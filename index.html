<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–∫–æ–ª—å–Ω–∞—è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</title>
    <script src="unpkg.com"></script>
    <script src="unpkg.com"></script>
    <script src="unpkg.com"></script>
    <style>
        body { font-family: sans-serif; background: #f0f2f5; margin: 0; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .btn { padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; background: #007bff; color: white; }
        .input { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        nav { background: white; padding: 15px; display: flex; justifyContent: space-between; border-bottom: 1px solid #ddd; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [user, setUser] = useState(null);
            const [view, setView] = useState("dashboard"); // dashboard, lessons, chat
            const [lessonFiles, setLessonFiles] = useState({ hw: false, mat: false });

            const handleLogin = (e) => {
                e.preventDefault();
                const fd = new FormData(e.target);
                const uname = fd.get("username");
                setUser({
                    name: fd.get("fname") + " " + fd.get("lname"),
                    username: uname,
                    role: uname.includes("teach") ? "teacher" : "student"
                });
            };

            if (!user) {
                return (
                    <div style={{display: 'flex', justifyContent: 'center', marginTop: '100px'}}>
                        <form className="card" onSubmit={handleLogin} style={{width: '300px'}}>
                            <h2>–í—Ö–æ–¥</h2>
                            <input name="fname" className="input" placeholder="–ò–º—è" required />
                            <input name="lname" className="input" placeholder="–§–∞–º–∏–ª–∏—è" required />
                            <input name="username" className="input" placeholder="–Æ–∑–µ—Ä–Ω–µ–π–º (@teach –¥–ª—è —É—á–∏—Ç–µ–ª—è)" required />
                            <input name="password" type="password" className="input" placeholder="–ü–∞—Ä–æ–ª—å" required />
                            <button className="btn" style={{width: '100%'}}>–í–æ–π—Ç–∏</button>
                        </form>
                    </div>
                );
            }

            return (
                <div>
                    <nav>
                        <b>{user.name} ({user.role})</b>
                        <div>
                            <button onClick={() => setView("dashboard")} className="btn" style={{marginRight: '10px'}}>–ü—Ä–µ–¥–º–µ—Ç—ã</button>
                            <button onClick={() => setView("chat")} className="btn">–ß–∞—Ç üîî</button>
                        </div>
                    </nav>

                    <div style={{padding: '20px'}}>
                        {view === "dashboard" && (
                            <div style={{display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '20px'}}>
                                {["–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞", "–†—É—Å—Å–∫–∏–π", "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞"].map(s => (
                                    <div key={s} className="card" onClick={() => setView("lessons")} style={{cursor: 'pointer'}}>
                                        <h3>{s}</h3>
                                        <p>–£—á–∏—Ç–µ–ª—å: –°–º–∏—Ä–Ω–æ–≤ –ê.–ê.</p>
                                    </div>
                                ))}
                            </div>
                        )}

                        {view === "lessons" && (
                            <div className="card">
                                <h3>–£—Ä–æ–∫ ‚Ññ23: –ù–æ–≤–∞—è —Ç–µ–º–∞</h3>
                                <button className="btn" style={{background: 'green'}} onClick={() => alert("–ó–∞–ª –æ–∂–∏–¥–∞–Ω–∏—è...")}>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —É—Ä–æ–∫—É</button>
                                <hr style={{margin: '20px 0'}} />
                                <div style={{display: 'flex', gap: '20px'}}>
                                    <div>
                                        <strong>–î–ó:</strong><br/>
                                        {lessonFiles.hw ? "üìÑ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω" : (user.role === 'teacher' ? <button onClick={() => setLessonFiles(prev => ({...prev, hw: true}))}>–ó–∞–≥—Ä—É–∑–∏—Ç—å –î–ó</button> : "–ù–µ—Ç —Ñ–∞–π–ª–æ–≤")}
                                    </div>
                                    <div>
                                        <strong>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã:</strong><br/>
                                        {lessonFiles.mat ? "üìö –ö–æ–Ω—Å–ø–µ–∫—Ç" : (user.role === 'teacher' ? <button onClick={() => setLessonFiles(prev => ({...prev, mat: true}))}>–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã</button> : "–ù–µ—Ç —Ñ–∞–π–ª–æ–≤")}
                                    </div>
                                </div>
                            </div>
                        )}

                        {view === "chat" && (
                            <div className="card" style={{height: '400px', display: 'flex', flexDirection: 'column'}}>
                                <div style={{flex: 1, background: '#f9f9f9', padding: '10px', overflowY: 'auto'}}>
                                    <p><b>–°–∏—Å—Ç–µ–º–∞:</b> –í—ã –≤–æ—à–ª–∏ –≤ —á–∞—Ç.</p>
                                </div>
                                <div style={{display: 'flex', gap: '10px', marginTop: '10px'}}>
                                    <input className="input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." style={{margin: 0}} />
                                    <button className="btn" onClick={() => alert("–§–∞–π–ª 1–ì–ë –∏–º–∏—Ç–∞—Ü–∏—è...")}>üìé</button>
                                    <button className="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
